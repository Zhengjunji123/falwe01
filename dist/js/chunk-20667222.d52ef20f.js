(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20667222"],{1276:function(t,n,e){"use strict";var a=e("d784"),i=e("44e7"),r=e("825a"),s=e("1d80"),o=e("4840"),c=e("8aa5"),u=e("50c4"),l=e("14c3"),f=e("9263"),d=e("d039"),p=[].push,v=Math.min,h=4294967295,g=!d((function(){return!RegExp(h,"y")}));a("split",2,(function(t,n,e){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var a=String(s(this)),r=void 0===e?h:e>>>0;if(0===r)return[];if(void 0===t)return[a];if(!i(t))return n.call(a,t,r);var o,c,u,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=new RegExp(t.source,d+"g");while(o=f.call(g,a)){if(c=g.lastIndex,c>v&&(l.push(a.slice(v,o.index)),o.length>1&&o.index<a.length&&p.apply(l,o.slice(1)),u=o[0].length,v=c,l.length>=r))break;g.lastIndex===o.index&&g.lastIndex++}return v===a.length?!u&&g.test("")||l.push(""):l.push(a.slice(v)),l.length>r?l.slice(0,r):l}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,e){var i=s(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i,e):a.call(String(i),n,e)},function(t,i){var s=e(a,t,this,i,a!==n);if(s.done)return s.value;var f=r(t),d=String(this),p=o(f,RegExp),x=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),k=new p(g?f:"^(?:"+f.source+")",m),w=void 0===i?h:i>>>0;if(0===w)return[];if(0===d.length)return null===l(k,d)?[d]:[];var b=0,y=0,E=[];while(y<d.length){k.lastIndex=g?y:0;var _,S=l(k,g?d:d.slice(y));if(null===S||(_=v(u(k.lastIndex+(g?0:y)),d.length))===b)y=c(d,y,x);else{if(E.push(d.slice(b,y)),E.length===w)return E;for(var P=1;P<=S.length-1;P++)if(E.push(S[P]),E.length===w)return E;y=b=_}}return E.push(d.slice(b)),E}]}),!g)},"14c3":function(t,n,e){var a=e("c6b6"),i=e("9263");t.exports=function(t,n){var e=t.exec;if("function"===typeof e){var r=e.call(t,n);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},3377:function(t,n,e){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}e.d(n,"a",(function(){return u}));e("e7e5");var s=e("d399"),o=e("2b0e");o["a"].use(s["a"]);var c=function(){function t(){a(this,t)}return r(t,[{key:"inspect",value:function(t){for(var n in t){var e=t[n];if(!e.reg.test(e.value))return Object(s["a"])(e.errorMsg),!1}return!0}}]),t}(),u=new c},4102:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"myAmend"},[e("van-nav-bar",{attrs:{title:"我的资料","left-arrow":""},on:{"click-left":t.goBack}}),e("div",{staticClass:"boxs"},[e("div",{staticClass:"useHeads"},[e("span",[t._v("头像")]),e("img",{attrs:{src:t.useObj.userImg}}),e("van-icon",{attrs:{name:"arrow"}}),e("van-uploader",{attrs:{"after-read":t.afterRead}})],1),e("van-button",{staticClass:"useName",attrs:{type:"primary"},on:{click:function(n){t.show=!0}}},[e("span",[t._v("用户名")]),e("span",[t._v(t._s(t.useObj.nickName))]),e("van-icon",{attrs:{name:"arrow"}})],1),e("div",{staticClass:"useSex"},[e("span",[t._v("性别")]),e("span",[t._v(t._s(t.useObj.sex))]),e("van-icon",{attrs:{name:"arrow"}})],1),e("div",{staticClass:"usePhone"},[e("span",[t._v("绑定手机")]),e("span",[t._v("+86 "+t._s(t._f("ff_iphon")(t.useObj.phone)))])]),e("van-button",{staticClass:"useName",attrs:{type:"primary"},on:{click:function(n){t.showPass=!0}}},[e("span",[t._v("修改密码")]),e("span"),e("van-icon",{attrs:{name:"arrow"}})],1),e("div",{staticClass:"useSite",on:{click:function(n){return t.ff_goPages("Location")}}},[e("span",[t._v("收货地址")]),e("van-icon",{attrs:{name:"arrow"}})],1)],1),e("van-cell",{attrs:{left:"",title:"个性化推荐"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-switch",{attrs:{size:"21","active-color":"#6d87c4"},model:{value:t.checked,callback:function(n){t.checked=n},expression:"checked"}})]},proxy:!0}])}),e("div",{staticClass:"deteLogin",on:{click:t.ff_outLogin}},[t._v("退出登录")]),e("van-overlay",{attrs:{show:t.show},on:{click:function(n){t.show=!1}}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"block",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"hears"},[t._v("修改用户名"),e("van-icon",{attrs:{name:"cross"},on:{click:function(n){return n.stopPropagation(),t.xx(n)}}})],1),e("div",{staticClass:"bodys"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nickName,expression:"nickName"}],attrs:{placeholder:"修改名称"},domProps:{value:t.nickName},on:{input:function(n){n.target.composing||(t.nickName=n.target.value)}}}),e("div",{on:{click:function(n){return n.stopPropagation(),t.ff_up(n)}}},[t._v("提交")])])])])]),e("van-overlay",{attrs:{show:t.showPass},on:{click:function(n){t.showPass=!1}}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"block",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"hears"},[t._v("修改密码"),e("van-icon",{attrs:{name:"cross"},on:{click:function(n){return n.stopPropagation(),t.xx01(n)}}})],1),e("div",{staticClass:"bodys"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.passwords,expression:"passwords"}],attrs:{placeholder:"修改密码"},domProps:{value:t.passwords},on:{input:function(n){n.target.composing||(t.passwords=n.target.value)}}}),e("div",{on:{click:function(n){return n.stopPropagation(),t.ff_upPass(n)}}},[t._v("提交")])])])])])],1)},i=[],r=(e("99af"),e("c975"),e("ac1f"),e("5319"),e("1276"),e("fe23"),e("3377")),s={name:"Amend",data:function(){return{useObj:{},checked:!0,show:!1,nickName:"",showPass:!1,passwords:""}},created:function(){this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),this.ff_initObj()},methods:{goBack:function(){this.$router.go(-1)},ff_goPages:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$router.push({name:t,query:{pid:n}})},xx:function(){this.show=!1},xx01:function(){this.showPass=!1},ff_up:function(){var t=this;this.axios({url:"/updateNickName",method:"POST",data:{appkey:this.appkey,tokenString:this.useId,nickName:this.nickName}}).then((function(n){"C001"==n.data.code&&(t.$toast(n.data.msg),t.show=!1,t.ff_initObj())})).catch((function(t){}))},ff_initObj:function(){var t=this;this.axios({url:"/findAccountInfo",method:"GET",params:{appkey:this.appkey,tokenString:this.useId}}).then((function(n){if("B001"==n.data.code){var e=n.data.result[0];e.sex="男",t.useObj=e,t.nickName=t.useObj.nickName}})).catch((function(t){}))},afterRead:function(t){var n=this,e=["png","jpg","jpeg"],a=t.file.type.split("/")[1],i=t.file.size,r=t.content.replace(/^data:image\/[A-Za-z]+;base64,/,"");this.$toast.loading({message:"上传中...",forbidClick:!0,loadingType:"spinner"}),-1!=e.indexOf(a)?i<=524288?this.axios({url:"/updateAvatar",method:"POST",data:{appkey:this.appkey,tokenString:this.useId,imgType:a,serverBase64Img:r}}).then((function(t){(t.data.code="H001")&&(n.$toast(t.data.msg),n.ff_initObj())})).catch((function(t){})):this.$toast("上传失败 图片请小于0.5M"):this.$toast("上传失败 图片格式错误")},ff_outLogin:function(){var t=this;this.$dialog.confirm({message:"确认退出登录"}).then((function(){t.axios({url:"/logout",method:"POST",data:{appkey:t.appkey,tokenString:t.useId}}).then((function(n){"F001"==n.data.code&&(window.localStorage.removeItem("useId"),t.useId="",t.$toast.loading({message:"注销中...",forbidClick:!0,loadingType:"spinner"}),setTimeout((function(){t.$router.push({name:"Home"}),t.useId=null,t.appkey=null}),400))})).catch((function(t){}))})).catch((function(){}))},ff_upPass:function(){var t=this,n={password:{value:this.passwords,errorMsg:"密码格式错误",reg:/^[A-Za-z]\w{5,15}$/}},e=r["a"].inspect(n);e&&this.axios({url:"/updatePassword",method:"POST",data:{appkey:this.appkey,tokenString:this.useId,oldPassword:this.passWord,password:this.passwords}}).then((function(n){"E001"==n.data.code?(t.$toast(n.data.msg),t.showPass=!1,window.sessionStorage.removeItem("passWord"),window.localStorage.removeItem("useId"),setTimeout((function(){t.$router.push({name:"Login"}),t.$toast("请重新登录")}),300)):t.$toast(n.data.msg)})).catch((function(t){}))}},filters:{ff_iphon:function(t){if(t){var n=t.substr(0,3),e=t.substr(7,4),a="".concat(n,"****").concat(e);return a}}}},o=s,c=e("2877"),u=Object(c["a"])(o,a,i,!1,null,"2040d28c",null);n["default"]=u.exports},"44e7":function(t,n,e){var a=e("861d"),i=e("c6b6"),r=e("b622"),s=r("match");t.exports=function(t){var n;return a(t)&&(void 0!==(n=t[s])?!!n:"RegExp"==i(t))}},5319:function(t,n,e){"use strict";var a=e("d784"),i=e("825a"),r=e("7b0b"),s=e("50c4"),o=e("a691"),c=e("1d80"),u=e("8aa5"),l=e("14c3"),f=Math.max,d=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,n,e,a){var x=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,k=x?"$":"$0";return[function(e,a){var i=c(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,i,a):n.call(String(i),e,a)},function(t,a){if(!x&&m||"string"===typeof a&&-1===a.indexOf(k)){var r=e(n,t,this,a);if(r.done)return r.value}var c=i(t),p=String(this),v="function"===typeof a;v||(a=String(a));var h=c.global;if(h){var b=c.unicode;c.lastIndex=0}var y=[];while(1){var E=l(c,p);if(null===E)break;if(y.push(E),!h)break;var _=String(E[0]);""===_&&(c.lastIndex=u(p,s(c.lastIndex),b))}for(var S="",P=0,I=0;I<y.length;I++){E=y[I];for(var C=String(E[0]),O=f(d(o(E.index),p.length),0),$=[],R=1;R<E.length;R++)$.push(g(E[R]));var A=E.groups;if(v){var T=[C].concat($,O,p);void 0!==A&&T.push(A);var N=String(a.apply(void 0,T))}else N=w(C,p,O,$,A,a);O>=P&&(S+=p.slice(P,O)+N,P=O+C.length)}return S+p.slice(P)}];function w(t,e,a,i,s,o){var c=a+t.length,u=i.length,l=h;return void 0!==s&&(s=r(s),l=v),n.call(o,l,(function(n,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(c);case"<":o=s[r.slice(1,-1)];break;default:var l=+r;if(0===l)return n;if(l>u){var f=p(l/10);return 0===f?n:f<=u?void 0===i[f-1]?r.charAt(1):i[f-1]+r.charAt(1):n}o=i[l-1]}return void 0===o?"":o}))}}))},6547:function(t,n,e){var a=e("a691"),i=e("1d80"),r=function(t){return function(n,e){var r,s,o=String(i(n)),c=a(e),u=o.length;return c<0||c>=u?t?"":void 0:(r=o.charCodeAt(c),r<55296||r>56319||c+1===u||(s=o.charCodeAt(c+1))<56320||s>57343?t?o.charAt(c):r:t?o.slice(c,c+2):s-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}},"8aa5":function(t,n,e){"use strict";var a=e("6547").charAt;t.exports=function(t,n,e){return n+(e?a(t,n).length:1)}},9263:function(t,n,e){"use strict";var a=e("ad6d"),i=e("9f7f"),r=RegExp.prototype.exec,s=String.prototype.replace,o=r,c=function(){var t=/a/,n=/b*/g;return r.call(t,"a"),r.call(n,"a"),0!==t.lastIndex||0!==n.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],f=c||l||u;f&&(o=function(t){var n,e,i,o,f=this,d=u&&f.sticky,p=a.call(f),v=f.source,h=0,g=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,h++),e=new RegExp("^(?:"+v+")",p)),l&&(e=new RegExp("^"+v+"$(?!\\s)",p)),c&&(n=f.lastIndex),i=r.call(d?e:f,g),d?i?(i.input=i.input.slice(h),i[0]=i[0].slice(h),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:c&&i&&(f.lastIndex=f.global?i.index+i[0].length:n),l&&i&&i.length>1&&s.call(i[0],e,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),t.exports=o},"9f7f":function(t,n,e){"use strict";var a=e("d039");function i(t,n){return RegExp(t,n)}n.UNSUPPORTED_Y=a((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),n.BROKEN_CARET=a((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,n,e){"use strict";var a=e("d039");t.exports=function(t,n){var e=[][t];return!!e&&a((function(){e.call(null,n||function(){throw 1},1)}))}},ac1f:function(t,n,e){"use strict";var a=e("23e7"),i=e("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,n,e){"use strict";var a=e("825a");t.exports=function(){var t=a(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},c975:function(t,n,e){"use strict";var a=e("23e7"),i=e("4d64").indexOf,r=e("a640"),s=e("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},d784:function(t,n,e){"use strict";e("ac1f");var a=e("6eeb"),i=e("d039"),r=e("b622"),s=e("9263"),o=e("9112"),c=r("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),f=r("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!i((function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));t.exports=function(t,n,e,f){var v=r(t),h=!i((function(){var n={};return n[v]=function(){return 7},7!=""[t](n)})),g=h&&!i((function(){var n=!1,e=/a/;return"split"===t&&(e={},e.constructor={},e.constructor[c]=function(){return e},e.flags="",e[v]=/./[v]),e.exec=function(){return n=!0,null},e[v](""),!n}));if(!h||!g||"replace"===t&&(!u||!l||d)||"split"===t&&!p){var x=/./[v],m=e(v,""[t],(function(t,n,e,a,i){return n.exec===s?h&&!i?{done:!0,value:x.call(n,e,a)}:{done:!0,value:t.call(e,n,a)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),k=m[0],w=m[1];a(String.prototype,t,k),a(RegExp.prototype,v,2==n?function(t,n){return w.call(t,this,n)}:function(t){return w.call(t,this)})}f&&o(RegExp.prototype[v],"sham",!0)}},fe23:function(t,n,e){}}]);
//# sourceMappingURL=chunk-20667222.d52ef20f.js.map