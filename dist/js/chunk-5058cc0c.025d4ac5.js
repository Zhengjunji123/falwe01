(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5058cc0c"],{3377:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return c}));n("e7e5");var i=n("d399"),r=n("2b0e");r["a"].use(i["a"]);var l=function(){function e(){o(this,e)}return a(e,[{key:"inspect",value:function(e){for(var t in e){var n=e[t];if(!n.reg.test(n.value))return Object(i["a"])(n.errorMsg),!1}return!0}}]),e}(),c=new l},a342:function(e,t,n){},a55b:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loginVessel"},[n("van-nav-bar",{staticClass:"loginBar",attrs:{border:!1},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"title"},[e._v(" 账户登录 ")])]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"navigation"},[n("span",{staticClass:"iconfont icon-sangedian"}),n("span",{staticClass:"iconfont icon-tongxinyuan",on:{click:function(t){return e.getPage("Home")}}})])]},proxy:!0}])}),n("div",{staticClass:"iconfont icon-icon_ruixingkafei1 logins"}),e._m(0),n("van-form",[n("van-field",{staticClass:"froms01",attrs:{placeholder:"手机号"},model:{value:e.oldObj.phone,callback:function(t){e.$set(e.oldObj,"phone",t)},expression:"oldObj.phone"}}),n("van-field",{staticClass:"froms02",attrs:{type:e.eye01?"text":"password",placeholder:"密码","right-icon":e.eye01?"eye-o":"closed-eye"},on:{"click-right-icon":e.isTag},model:{value:e.oldObj.password,callback:function(t){e.$set(e.oldObj,"password",t)},expression:"oldObj.password"}}),n("div",{staticClass:"txTiao"},[n("span",[n("van-cell",{staticClass:"vanCell",attrs:{title:"注册帐号"},on:{click:e.showPopup}})],1),n("span",{on:{click:function(t){return e.getPage("Findack")}}},[e._v("忘记密码?")])]),n("div",{staticStyle:{margin:"20px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:e.isColor?"#4e6eb0":"#bfc9e2"},on:{click:e.ff_login}},[e._v(" 登录 ")])],1),n("div",{staticClass:"rules"},[e._v("点击确定,即表示已阅读并同意"),n("a",{attrs:{href:"#"}},[e._v("《注册会员服务条例》")])])],1),n("van-popup",{style:{height:"45%"},attrs:{round:"",position:"bottom",closeable:"","close-icon":"close"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticClass:"tiles"},[e._v("注册")]),n("van-form",{staticClass:"fromTest",attrs:{"validate-first":""}},[n("van-field",{attrs:{label:"手机号",placeholder:"11位手机号"},model:{value:e.newObj.phone,callback:function(t){e.$set(e.newObj,"phone",t)},expression:"newObj.phone"}}),n("van-field",{attrs:{label:"昵称",placeholder:"1-10位昵称"},model:{value:e.newObj.nickName,callback:function(t){e.$set(e.newObj,"nickName",t)},expression:"newObj.nickName"}}),n("van-field",{attrs:{label:"密码",type:e.eye02?"text":"password",placeholder:"6-16位密码且以字母开头","right-icon":e.eye02?"eye-o":"closed-eye"},on:{"click-right-icon":e.isTag02},model:{value:e.newObj.password,callback:function(t){e.$set(e.newObj,"password",t)},expression:"newObj.password"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{color:"#6d87c4",round:"",block:"",type:"info"},on:{click:e.ff_enroll}},[e._v(" 注册 ")])],1)],1)],1)],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span")])}],a=(n("c25d"),n("a342"),n("3377")),i={name:"Login",data:function(){return{eye01:!1,eye02:!1,show:!1,oldObj:{phone:null,password:null},newObj:{phone:null,nickName:null,password:null},isColor:!1}},methods:{showPopup:function(){this.show=!0},isTag:function(){this.eye01=!this.eye01},isTag02:function(){this.eye02=!this.eye02},ff_enroll:function(){var e=this,t={phone:{value:this.newObj.phone,errorMsg:"手机号格式错误",reg:/^1[3-9]\d{9}$/},nickName:{value:this.newObj.nickName,errorMsg:"昵称格式错误",reg:/^[\w\u4e00-\u9fa5]{1,10}$/},password:{value:this.newObj.password,errorMsg:"密码格式错误",reg:/^[A-Za-z]\w{5,15}$/}},n=a["a"].inspect(t);if(n){var o={};Object.assign(o,this.newObj),o.appkey=this.appkey,this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),this.axios({url:"/register",method:"POST",data:o}).then((function(t){100==t.data.code?(e.$toast(t.data.msg),setTimeout((function(){e.show=!1}),700)):e.$toast(t.data.msg)})).catch((function(e){}))}},ff_login:function(){var e=this,t={phone:{value:this.oldObj.phone,errorMsg:"手机号格式错误",reg:/^1[3-9]\d{9}$/},password:{value:this.oldObj.password,errorMsg:"密码格式错误",reg:/^[A-Za-z]\w{5,15}$/}},n=a["a"].inspect(t);if(n){var o={};Object.assign(o,this.oldObj),o.appkey=this.appkey,this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),this.axios({url:"/login",method:"POST",data:o}).then((function(t){200==t.data.code?(e.$toast(t.data.msg),window.localStorage.setItem("useId",t.data.token),window.sessionStorage.setItem("passWord",e.oldObj.password),setTimeout((function(){e.$router.push({name:"Home"})}),500)):e.$toast(t.data.msg)})).catch((function(e){}))}},getBack:function(){this.$router.go(-1)},getPage:function(e){this.$router.push({name:e})}},updated:function(){11==this.oldObj.phone.length&&this.oldObj.password.length>=5?this.isColor=!0:this.isColor=!1}},r=i,l=n("2877"),c=Object(l["a"])(r,o,s,!1,null,"2010ec2c",null);t["default"]=c.exports},c25d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5058cc0c.025d4ac5.js.map