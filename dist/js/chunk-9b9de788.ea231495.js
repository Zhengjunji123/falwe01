(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b9de788"],{1276:function(t,e,i){"use strict";var n=i("d784"),a=i("44e7"),s=i("825a"),r=i("1d80"),c=i("4840"),l=i("8aa5"),o=i("50c4"),u=i("14c3"),f=i("9263"),h=i("d039"),p=[].push,d=Math.min,g=4294967295,v=!h((function(){return!RegExp(g,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(r(this)),s=void 0===i?g:i>>>0;if(0===s)return[];if(void 0===t)return[n];if(!a(t))return e.call(n,t,s);var c,l,o,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=new RegExp(t.source,h+"g");while(c=f.call(v,n)){if(l=v.lastIndex,l>d&&(u.push(n.slice(d,c.index)),c.length>1&&c.index<n.length&&p.apply(u,c.slice(1)),o=c[0].length,d=l,u.length>=s))break;v.lastIndex===c.index&&v.lastIndex++}return d===n.length?!o&&v.test("")||u.push(""):u.push(n.slice(d)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var a=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,i):n.call(String(a),e,i)},function(t,a){var r=i(n,t,this,a,n!==e);if(r.done)return r.value;var f=s(t),h=String(this),p=c(f,RegExp),m=f.unicode,_=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),x=new p(v?f:"^(?:"+f.source+")",_),b=void 0===a?g:a>>>0;if(0===b)return[];if(0===h.length)return null===u(x,h)?[h]:[];var k=0,y=0,S=[];while(y<h.length){x.lastIndex=v?y:0;var E,T=u(x,v?h:h.slice(y));if(null===T||(E=d(o(x.lastIndex+(v?0:y)),h.length))===k)y=l(h,y,m);else{if(S.push(h.slice(k,y)),S.length===b)return S;for(var A=1;A<=T.length-1;A++)if(S.push(T[A]),S.length===b)return S;y=k=E}}return S.push(h.slice(k)),S}]}),!v)},"14c3":function(t,e,i){var n=i("c6b6"),a=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"159b":function(t,e,i){var n=i("da84"),a=i("fdbc"),s=i("17c2"),r=i("9112");for(var c in a){var l=n[c],o=l&&l.prototype;if(o&&o.forEach!==s)try{r(o,"forEach",s)}catch(u){o.forEach=s}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,a=i("a640"),s=i("ae40"),r=a("forEach"),c=s("forEach");t.exports=r&&c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,i){"use strict";var n=i("23e7"),a=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"44e7":function(t,e,i){var n=i("861d"),a=i("c6b6"),s=i("b622"),r=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},6547:function(t,e,i){var n=i("a691"),a=i("1d80"),s=function(t){return function(e,i){var s,r,c=String(a(e)),l=n(i),o=c.length;return l<0||l>=o?t?"":void 0:(s=c.charCodeAt(l),s<55296||s>56319||l+1===o||(r=c.charCodeAt(l+1))<56320||r>57343?t?c.charAt(l):s:t?c.slice(l,l+2):r-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},9263:function(t,e,i){"use strict";var n=i("ad6d"),a=i("9f7f"),s=RegExp.prototype.exec,r=String.prototype.replace,c=s,l=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),o=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=l||u||o;f&&(c=function(t){var e,i,a,c,f=this,h=o&&f.sticky,p=n.call(f),d=f.source,g=0,v=t;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,g++),i=new RegExp("^(?:"+d+")",p)),u&&(i=new RegExp("^"+d+"$(?!\\s)",p)),l&&(e=f.lastIndex),a=s.call(h?i:f,v),h?a?(a.input=a.input.slice(g),a[0]=a[0].slice(g),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:l&&a&&(f.lastIndex=f.global?a.index+a[0].length:e),u&&a&&a.length>1&&r.call(a[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=c},"9f1e":function(t,e,i){},"9f52":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailsPage"},[i("van-nav-bar",{staticClass:"myBars",attrs:{border:!1},scopedSlots:t._u([{key:"left",fn:function(){return[i("van-icon",{staticClass:"myCross",attrs:{name:"cross"},on:{click:t.getBack}})]},proxy:!0},{key:"right",fn:function(){return[i("van-icon",{staticClass:"myShare",attrs:{name:"share-o"},on:{click:function(e){t.showShare=!0}}}),i("van-icon",{staticClass:"myLike",attrs:{name:"like-o"},on:{click:function(e){return t.goPage("Collect")}}})]},proxy:!0}])}),i("van-image",{staticClass:"myImgs",attrs:{src:t.articles.large_img},scopedSlots:t._u([{key:"error",fn:function(){return[t._v("加载失败")]},proxy:!0}])}),i("div",{staticClass:"goodName"},[i("p",[t._v(t._s(t.articles.name))]),i("p",[t._v(t._s(t.articles.enname))])]),i("Allocation",{attrs:{Alls:t.articles},on:{gai:function(e){return t.ff_gai(e)}}}),i("div",{staticClass:"recoms"},[i("p",[t._v("超值加购推荐,满足加倍~")]),i("div",[i("a",t._l(t.recomeData,(function(e,n){return i("van-card",{key:n,staticClass:"rec",attrs:{tag:"限定专享",price:e.price,desc:e.enname,title:e.name,thumb:e.largeImg,"origin-price":e.price-0+20},on:{click:function(i){return t.goPage("Details",e.pid)}}})})),1)])]),i("div",{staticClass:"circum"},[i("p",{staticClass:"particulars"},[t._v("商品详情")]),t._l(t.articles.descArr,(function(e,n){return i("p",{key:n},[t._v(" "+t._s(e)+" ")])}))],2),i("div",{staticClass:"preview"},[i("div",{staticClass:"careful"},[i("p",[i("span",[t._v("￥"+t._s((t.articles.price-0)*(t.articles.abbr-0)))]),i("span",[t._v("￥"+t._s((t.articles.price-0+20)*(t.articles.abbr-0)))])]),i("p",{ref:"rules"},[t._v(" "+t._s(t.articles.name)+"￥"+t._s((t.articles.price-0)*(t.articles.abbr-0))+t._s(t._f("ff_huang")([t.articles.creamFalse,t.articles.creamTitle]))+t._s(t._f("ff_huang")([t.articles.sugarFalse,t.articles.sugarTitle]))+t._s(t._f("ff_huang")([t.articles.temFalse,t.articles.temTitle]))+" ")])]),i("van-stepper",{staticClass:"step",attrs:{theme:"round","button-size":"22","disable-input":""},model:{value:t.articles.abbr,callback:function(e){t.$set(t.articles,"abbr",e)},expression:"articles.abbr"}})],1),i("van-goods-action",[i("van-goods-action-icon",{attrs:{icon:"shopping-cart",badge:0==t.cours?"":t.cours,color:"#999999",text:"购物车"},on:{click:function(e){return t.goPage("Cat")}}}),i("van-goods-action-icon",{attrs:{text:t.Like?"已收藏":"未收藏",icon:"star",color:t.Like?"#ef5721":"#999999"},on:{click:t.onClickIcon}}),i("van-goods-action-button",{staticClass:"buy01",attrs:{text:"立即购买"},on:{click:function(e){return t.goPath("Pay")}}}),i("van-goods-action-button",{staticClass:"buy02",attrs:{text:"加入购物车"},on:{click:t.onClickButton}})],1),i("van-share-sheet",{attrs:{title:"立即分享给好友",options:t.options},on:{select:t.onSelect},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}})],1)},a=[],s=(i("4160"),i("fb6a"),i("b0c0"),i("ac1f"),i("1276"),i("159b"),i("e7e5"),i("d399")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"myAllocation"},[t.Alls.isCream?i("div",[i("span",[t._v(t._s(t.Alls.cream_desc))]),i("span",{class:{attr:t.Alls.creamFalse},on:{click:function(e){return t.ff_gai("creamFalse",t.Alls.creamFalse)}}},[t._v(t._s(t.Alls.creamTitle[0]))]),i("span",{class:{attr:!t.Alls.creamFalse},on:{click:function(e){return t.ff_gai("creamFalse",t.Alls.creamFalse)}}},[t._v(t._s(t.Alls.creamTitle[1]))])]):t._e(),t.Alls.isSugar?i("div",[i("span",[t._v(t._s(t.Alls.sugar_desc))]),i("span",{class:{attr:t.Alls.sugarFalse},on:{click:function(e){return t.ff_gai("sugarFalse",t.Alls.sugarFalse)}}},[t._v(t._s(t.Alls.sugarTitle[0]))]),i("span",{class:{attr:!t.Alls.sugarFalse},on:{click:function(e){return t.ff_gai("sugarFalse",t.Alls.sugarFalse)}}},[t._v(t._s(t.Alls.sugarTitle[1]))])]):t._e(),t.Alls.isTem?i("div",[i("span",[t._v(t._s(t.Alls.tem_desc))]),i("span",{class:{attr:t.Alls.temFalse},on:{click:function(e){return t.ff_gai("temFalse",t.Alls.temFalse)}}},[t._v(t._s(t.Alls.temTitle[0]))]),t.Alls.temTitle[1]?i("span",{class:{attr:!t.Alls.temFalse},on:{click:function(e){return t.ff_gai("temFalse",t.Alls.temFalse)}}},[t._v(t._s(t.Alls.temTitle[1]))]):t._e()]):t._e()])},c=[],l={name:"Allocation",props:["Alls"],methods:{ff_gai:function(t,e){this.$emit("gai",{name:t,isFalse:e})}}},o=l,u=(i("f5c1"),i("2877")),f=Object(u["a"])(o,r,c,!1,null,"1c1fc5b3",null),h=f.exports,p=(i("9f1e"),{name:"Details",data:function(){return{articles:{},recomeData:[],Like:!1,cours:0,strRule:"",isNum:1,showShare:!1,options:[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}],sid:""}},methods:{onClickIcon:function(){var t=this;this.useId?(this.Like=!this.Like,this.ff_testLogin()):(this.$toast("请先登录"),setTimeout((function(){t.$router.push("Login")}),500))},onClickButton:function(){var t=this;this.useId?(this.isNum++,2==this.isNum?this.ff_addShopcart():this.$toast("已经加入购物车")):(this.$toast("请先登录"),setTimeout((function(){t.$router.push("Login")}),500))},ff_gai:function(t){this.articles[t.name]=!t.isFalse},getBack:function(){this.$router.go(-1)},goPage:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$router.push({name:t,query:{pid:i}}),setTimeout((function(){e.ff_Dates()}),300)},ff_Dates:function(){var t=this,e=this.$route.query.pid;this.axios({url:"/productDetail",method:"GET",params:{appkey:this.appkey,pid:e}}).then((function(e){var i=e.data.result[0];i.abbr=1,i.isCream=!1,i.isSugar=!1,i.isTem=!1,i.creamFalse=!0,i.sugarFalse=!0,i.temFalse=!0,t.articles=i,t.articles.cream&&(t.articles.isCream=!0,t.articles.creamTitle=t.articles.cream.split("/")),t.articles.sugar&&(t.articles.isSugar=!0,t.articles.sugarTitle=t.articles.sugar.split("/")),t.articles.tem&&(t.articles.isTem=!0,t.articles.temTitle=t.articles.tem.split("/"));var n=t.articles.desc;t.articles.descArr=n.split("。")})).catch((function(t){}))},ff_findLike:function(){var t=this,e=this.$route.query.pid;this.axios({method:"GET",url:"/findlike",params:{appkey:this.appkey,tokenString:this.useId,pid:e}}).then((function(e){t.$toast.clear(),1e3==e.data.code&&e.data.result.length>0&&(t.Like=!0)})).catch((function(e){t.$toast.clear()}))},ff_testLogin:function(){var t=this,e=this.Like?"/like":"/notlike";this.useId?this.axios({url:e,method:"POST",data:{appkey:this.appkey,tokenString:this.useId,pid:this.articles.pid}}).then((function(e){800==e.data.code?t.Like=!0:901==e.data.code&&(t.Like=!1)})).catch((function(t){})):(this.$toast("请先登录"),setTimeout((function(){t.$router.push("Login")}),500))},ff_shoppingCarts:function(){var t=this;this.axios({url:"/findAllShopcart",method:"GET",params:{appkey:this.appkey,tokenString:this.useId}}).then((function(e){5e3==e.data.code&&(t.cours=e.data.result.length)})).catch((function(t){}))},ff_addShopcart:function(){var t=this,e=this.$refs.rules.innerText.split("+"),i="";e.forEach((function(t,e){e>0&&(i+="".concat(t))}));var n=i.split("￥0"),a="";n.forEach((function(t,e){e<n.length-1&&(a+="".concat(t,"/"))})),a=a.slice(0,-1),this.axios({url:"/addShopcart",method:"POST",data:{pid:this.articles.pid,count:this.articles.abbr,rule:a,appkey:this.appkey,tokenString:this.useId}}).then((function(e){3e3==e.data.code&&(t.sid=e.data.sid,t.$toast("成功加入购物车"),t.ff_shoppingCarts())})).catch((function(t){}))},onSelect:function(t){s["a"].loading({message:"       ".concat(t.name,"        维护中"),forbidClick:!0,loadingType:"spinner"}),this.showShare=!1},goPath:function(t){var e=this;this.ff_addShopcart(),setTimeout((function(){var i=[];i.push(e.sid);var n=JSON.stringify(i);e.$router.push({name:t,query:{sids:n}})}),1500)}},created:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),this.ff_Dates(),this.axios({url:"/typeProducts",method:"GET",params:{appkey:this.appkey,key:"isHot",value:1}}).then((function(e){e.data.result.forEach((function(e,i){i>3&&t.recomeData.push(e)}))})).catch((function(t){})),setTimeout((function(){t.ff_findLike()}),500),this.ff_shoppingCarts()},filters:{ff_huang:function(t){var e="";if(t[1]){e=t[0]?t[1][0]:t[1][1];var i="+".concat(e,"￥0");return i}return e}},components:{Allocation:h}}),d=p,g=Object(u["a"])(d,n,a,!1,null,"0262e2b4",null);e["default"]=g.exports},"9f7f":function(t,e,i){"use strict";var n=i("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,i){"use strict";var n=i("23e7"),a=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,i){var n=i("83ab"),a=i("9bf2").f,s=Function.prototype,r=s.toString,c=/^\s*function ([^ (]*)/,l="name";n&&!(l in s)&&a(s,l,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(t){return""}}})},b727:function(t,e,i){var n=i("0366"),a=i("44ad"),s=i("7b0b"),r=i("50c4"),c=i("65f0"),l=[].push,o=function(t){var e=1==t,i=2==t,o=3==t,u=4==t,f=6==t,h=5==t||f;return function(p,d,g,v){for(var m,_,x=s(p),b=a(x),k=n(d,g,3),y=r(b.length),S=0,E=v||c,T=e?E(p,y):i?E(p,0):void 0;y>S;S++)if((h||S in b)&&(m=b[S],_=k(m,S,x),t))if(e)T[S]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:l.call(T,m)}else if(u)return!1;return f?-1:o||u?u:T}};t.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),a=i("d039"),s=i("b622"),r=i("9263"),c=i("9112"),l=s("species"),o=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=s("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,f){var d=s(t),g=!a((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=g&&!a((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return e=!0,null},i[d](""),!e}));if(!g||!v||"replace"===t&&(!o||!u||h)||"split"===t&&!p){var m=/./[d],_=i(d,""[t],(function(t,e,i,n,a){return e.exec===r?g&&!a?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),x=_[0],b=_[1];n(String.prototype,t,x),n(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}f&&c(RegExp.prototype[d],"sham",!0)}},e958:function(t,e,i){},f5c1:function(t,e,i){"use strict";i("e958")},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-9b9de788.ea231495.js.map